{"ast":null,"code":"import _classCallCheck from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\src\\\\components\\\\Myposts.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col } from \"reactstrap\";\nimport Footer from './Footer';\nimport { Button, Form, Input } from 'reactstrap';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\n\nvar AllPosts = /*#__PURE__*/function (_Component) {\n  _inherits(AllPosts, _Component);\n\n  function AllPosts() {\n    var _this;\n\n    _classCallCheck(this, AllPosts);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AllPosts).call(this));\n\n    _this.getMyPost = function (e) {\n      var tempEmail = _this.state;\n      console.log(tempEmail); // var sendEmail='amrshakhshir@hotmail.com'\n\n      var sendEmail = _this.state.email;\n      axios.post('http://localhost:3000/get_post', {\n        email: sendEmail\n      }, {\n        headers: {\n          authorization: 'usertoken'\n        }\n      }).then(function (response) {\n        console.log(response);\n\n        _this.setState({\n          posts: response.data\n        });\n\n        console.log('Data has been received!');\n\n        _this.getAllPost();\n      }).catch(function (error) {\n        // alert('Error retrieving data!!');\n        console.log('No Data');\n        console.log(error.response);\n        console.log('State', _this.state);\n      });\n    };\n\n    _this.displayMyPost = function (posts) {\n      if (!posts.length) return null;\n      return posts.map(function (posts, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }\n        }, posts.title, posts.content, posts.category);\n      });\n    };\n\n    _this.state = {\n      'email': '',\n      //'newemail':[],\n      'username': '',\n      'title': '',\n      'content': '',\n      'category': '',\n      'image': 'images/Propic1.png',\n      'file': '',\n      posts: []\n    };\n    var token = localStorage.usertoken;\n    var decoded = jwt_decode(token);\n\n    _this.setState({\n      email: decoded.identity.email,\n      username: decoded.identity.username\n    }, console.log(_this.state));\n\n    return _this;\n  }\n\n  _createClass(AllPosts, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getMyPost();\n      var token = localStorage.usertoken;\n      var decoded = jwt_decode(token);\n      this.setState({\n        email: decoded.identity.email,\n        username: decoded.identity.username // newemail: JSON.parse(JSON.stringify(this.state.email))\n\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var posts = JSON.stringify(this.state.posts);\n      var isFetching = posts; // console.log(isFetching)\n\n      if (this.state.posts[0] === undefined) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }\n        }, \" No Posts to show \"));\n      }\n\n      console.log('render started!!!');\n      console.log('State', this.state); //console.log(JSON.parse(JSON.stringify(this.state.email)))\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }\n      }, \" hallo from mypost \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"blog mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      }, \"Here is your post:  \", this.displayMyPost(this.state.posts)));\n    }\n  }]);\n\n  return AllPosts;\n}(Component);\n\nexport { AllPosts as default };","map":{"version":3,"sources":["C:/Amr/Duisburg/1semester/AdvancedWebTechnology/project/2/Final-master/client/src/components/Myposts.js"],"names":["React","Component","Container","Row","Col","Footer","Button","Form","Input","jwt_decode","axios","AllPosts","getMyPost","e","tempEmail","state","console","log","sendEmail","email","post","headers","authorization","then","response","setState","posts","data","getAllPost","catch","error","displayMyPost","length","map","index","title","content","category","token","localStorage","usertoken","decoded","identity","username","JSON","stringify","isFetching","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Container, Row, Col} from \"reactstrap\";\nimport Footer from './Footer';\nimport { Button, Form,  Input} from 'reactstrap';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\n\n\n\nexport default  class AllPosts extends Component {\n  constructor() {\n    super()\n    this.state = {\n        'email':'',\n        //'newemail':[],\n        'username':'',\n        'title':'',\n        'content':'',\n        'category':'',\n        'image':'images/Propic1.png',\n        'file':'',\n         posts:[],\n\n    }\n    const token = localStorage.usertoken\n        const decoded = jwt_decode(token)\n        this.setState({\n            email: decoded.identity.email,\n            username: decoded.identity.username\n        },\n        console.log(this.state)            \n        )\n}\n\n    componentDidMount () {\n        this.getMyPost();\n        const token = localStorage.usertoken\n        const decoded = jwt_decode(token)\n        this.setState({\n            email: decoded.identity.email,\n            username: decoded.identity.username\n\n           // newemail: JSON.parse(JSON.stringify(this.state.email))\n\n        })\n        \n    }\n\n    getMyPost = (e) => {\n        var tempEmail=this.state\n        console.log(tempEmail)\n        // var sendEmail='amrshakhshir@hotmail.com'\n        var sendEmail=this.state.email\n        axios.post('http://localhost:3000/get_post', {            \n                email:sendEmail\n            },{\n            headers:{\n                authorization:'usertoken'\n            },\n            \n        }).then((response) => {\n            console.log(response);\n            this.setState({posts:response.data})\n            console.log('Data has been received!');\n            this.getAllPost()\n\n          })\n          .catch((error)=>{\n           // alert('Error retrieving data!!');\n           console.log('No Data')\n           console.log(error.response);\n           console.log('State',this.state);\n           \n        });\n    }\n    \n\n    \n   \n\n\n    displayMyPost = (posts) =>{\n        if(!posts.length) return null;\n\n        return posts.map((posts,index)=>(\n            <div key={index}>{posts.title}\n            {posts.content}\n            {posts.category}</div>\n\n        ));\n    }\n\n\n    render () {\n        const posts = JSON.stringify(this.state.posts)\n        const isFetching = posts;\n        // console.log(isFetching)\n        if (this.state.posts[0] ===undefined)\n        {\n            return(\n                    \n                <div>\n                    <div> No Posts to show </div>\n                </div>\n            )\n        }\n\n            console.log('render started!!!')\n            console.log('State',this.state);\n            //console.log(JSON.parse(JSON.stringify(this.state.email)))\n            return (\n               \n                <div>\n                    <div> hallo from mypost </div>\n                    <div className=\"blog mt-5\">\n                        Here is your post:  {this.displayMyPost(this.state.posts)}\n                    </div>\n                \n                </div>\n            \n            )\n        }\n            \n    }"]},"metadata":{},"sourceType":"module"}