{"ast":null,"code":"import _classCallCheck from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\2\\\\Final-master\\\\client\\\\src\\\\components\\\\Myposts.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col } from \"reactstrap\";\nimport Footer from './Footer';\nimport { Button, Form, Input } from 'reactstrap';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\n\nvar AllPosts = /*#__PURE__*/function (_Component) {\n  _inherits(AllPosts, _Component);\n\n  function AllPosts() {\n    var _this;\n\n    _classCallCheck(this, AllPosts);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AllPosts).call(this));\n\n    _this.displayMyPost = function (posts) {\n      if (!posts.length) return null;\n      return posts.map(function (posts, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }\n        }, posts.title, posts.content, posts.category);\n      });\n    };\n\n    _this.state = {\n      'email': '',\n      //'newemail':[],\n      'username': '',\n      'title': '',\n      'content': '',\n      'category': '',\n      'image': 'images/Propic1.png',\n      'file': '',\n      posts: []\n    };\n    return _this;\n  }\n\n  _createClass(AllPosts, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getMyPost();\n      var token = localStorage.usertoken;\n      var decoded = jwt_decode(token);\n      this.setState({\n        email: decoded.identity.email,\n        username: decoded.identity.username // newemail: JSON.parse(JSON.stringify(this.state.email))\n\n      });\n\n      getMyPost = function getMyPost(e) {\n        //console.log(this.state,\"The state --- $$$$\")\n        // let email = this.state.email\n        //let formdata = new FormData()\n        //formdata.append('email',email)\n        //let data = JSON.stringify({\n        //    email:'Dengbaohuilea@gmail.com'\n        // })\n        // axios.post('http://localhost:3000/get_post',data)//,{\n        // headers:{\n        //   'Content-Type':'application/json',\n        //}\n        //})\n        axios({\n          url: 'http://localhost:3000/get_post',\n          method: 'POST',\n          headers: {\n            authorization: 'usertoken'\n          },\n          data: {\n            email: _this2.state.email\n          }\n        }).then(function (response) {\n          _this2.setState({\n            posts: response.data\n          });\n\n          console.log('Data has been received!');\n\n          _this2.getAllPost();\n        }).catch(function () {\n          // alert('Error retrieving data!!');\n          console.log('No Data');\n        });\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log('State', this.state);\n      var email = this.state.email; //console.log(JSON.parse(JSON.stringify(this.state.email)))\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }, \" hallo from mypost \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"blog mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }, this.displayMyPost(this.state.posts)));\n    }\n  }]);\n\n  return AllPosts;\n}(Component);\n\nexport { AllPosts as default };","map":{"version":3,"sources":["C:/Amr/Duisburg/1semester/AdvancedWebTechnology/project/2/Final-master/client/src/components/Myposts.js"],"names":["React","Component","Container","Row","Col","Footer","Button","Form","Input","jwt_decode","axios","AllPosts","displayMyPost","posts","length","map","index","title","content","category","state","getMyPost","token","localStorage","usertoken","decoded","setState","email","identity","username","e","url","method","headers","authorization","data","then","response","console","log","getAllPost","catch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Container, Row, Col} from \"reactstrap\";\nimport Footer from './Footer';\nimport { Button, Form,  Input} from 'reactstrap';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios'\n\n\nexport default  class AllPosts extends Component {\n  constructor() {\n    super()\n    this.state = {\n        'email':'',\n        //'newemail':[],\n        'username':'',\n        'title':'',\n        'content':'',\n        'category':'',\n        'image':'images/Propic1.png',\n        'file':'',\n         posts:[],\n\n    }\n}\n\n    componentDidMount () {\n        this.getMyPost();\n        const token = localStorage.usertoken\n        const decoded = jwt_decode(token)\n        this.setState({\n            email: decoded.identity.email,\n            username: decoded.identity.username\n\n           // newemail: JSON.parse(JSON.stringify(this.state.email))\n\n        })\n        \n        \n        getMyPost = (e) => {\n            //console.log(this.state,\"The state --- $$$$\")\n            // let email = this.state.email\n            //let formdata = new FormData()\n            //formdata.append('email',email)\n            //let data = JSON.stringify({\n                //    email:'Dengbaohuilea@gmail.com'\n                // })\n                \n                // axios.post('http://localhost:3000/get_post',data)//,{\n                    // headers:{\n                        //   'Content-Type':'application/json',\n                        //}\n                        //})\n                        axios({\n                            url: 'http://localhost:3000/get_post',\n                            method: 'POST',\n                            headers:{\n                                authorization:'usertoken'\n                            },\n                            \n                            data:{\n                                email:this.state.email\n                            }\n                        }).then((response) => {\n                            this.setState({posts:response.data})\n                            console.log('Data has been received!');\n                            this.getAllPost()\n                            \n                        })\n                        .catch(()=>{\n                            // alert('Error retrieving data!!');\n                            console.log('No Data')\n                        });\n                    }\n                }\n                    \n\n    \n   \n\n\n    displayMyPost = (posts) =>{\n        if(!posts.length) return null;\n\n        return posts.map((posts,index)=>(\n            <div key={index}>{posts.title}\n            {posts.content}\n            {posts.category}</div>\n\n        ));\n    }\n\n\n    render () {\n        console.log('State',this.state);\n        const email = this.state.email\n        //console.log(JSON.parse(JSON.stringify(this.state.email)))\n        return (\n       \n            <div>\n            <div> hallo from mypost </div>\n\n            <div className=\"blog mt-5\">\n                {this.displayMyPost(this.state.posts)}\n            </div>\n            \n             </div>\n           \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}